{% extends 'layout.html.twig' %}

{% block body %}
   {{ parent() }}
   
  <!-- {% for flashMessage in app.session.flashbag.get('mensaje') %}
    	<div class="alert alert-success" role="alert">
			<div class="container">{{ flashMessage }}</div>
    	</div>
    {% endfor %} -->
{{include ('UserBundle:messages:success.html.twig')}}

<h2>USUARIOS</h2>

<table border="1">
    <tr>
        <!-- <th>Username</th> -->
        <!-- <th>First Name</th> -->
        <!-- <th>Last Name</th> -->
        <!-- <th>Email</th> -->
        <!-- <th>Role</th> -->
        <!-- <th>Created</th> -->
        <!-- <th>Updated</th> -->
        <!-- <th>Actions</th> -->
		<th>{{knp_pagination_sortable(pagination,'Username', 'u.username')}}</th>
        <th>{{knp_pagination_sortable(pagination,'Username'|trans, 'u.username')}}</th>
        <th>{{knp_pagination_sortable(pagination,'First Name'|trans, 'u.firstname')}}</th>
        <th>{{knp_pagination_sortable(pagination,'Last Name'|trans, 'u.lastname')}}</th>
        <th>{{knp_pagination_sortable(pagination,'E-Mail'|trans, 'u.email')}}</th>
        <th>{{knp_pagination_sortable(pagination,'Rol'|trans, 'u.role')}}</th>
        <th>{{knp_pagination_sortable(pagination,'Created'|trans, 'u.createdAt')}}</th>
        <th>{{knp_pagination_sortable(pagination,'Updated'|trans, 'u.updatedAt')}}</th>
		<th>Acciones</th>

    </tr>
    {% for user  in pagination %}
    <tr>
        <td>{{user.username}}</td>
        <td>{{user.firstName}}</td>
        <td>{{user.lastName}}</td>
        <td>{{user.email}}</td>
        <td>{{user.role}}</td>
        <td>{{user.createdAt|date('d-m-Y H:i')}}</td>
        <td>{{user.updatedAt|date('d-m-Y H:i')}}</td>
        <td>
            <a href="#">Ver</a>
            <a href="{{ path('user_edit', {id: user.id}) }}" class="btn btn-sm btn-primary">Editar</a>
            <a href="#">Eliminar</a>
        </td>
    </tr>
    {% endfor %}
</table>
{# display navigation / mostramos la navegacion #}
				<div class="navigation">
					{{ knp_pagination_render(pagination) }}
					<div class="table-responsive">
				Total Records: {{ pagination.getTotalItemCount }}
{% endblock %}